\documentclass[oneside,10pt]{article}
\usepackage[latin1]{inputenc}
\usepackage[francais]{babel}
\usepackage[francais]{layout}
\usepackage[OT1]{fontenc}
\usepackage{listings}
\usepackage{cite}
\usepackage{textcomp}
\usepackage{graphicx}

% Reglages du document
\lstset{language=bash, frame=single, breaklines=true, basicstyle=\ttfamily, keywordstyle=\bfseries}
\setlength{\hoffset}{-18pt}        
\setlength{\oddsidemargin}{0pt} % Marge gauche sur pages impaires
\setlength{\evensidemargin}{9pt} % Marge gauche sur pages paires
\setlength{\marginparwidth}{54pt} % Largeur de note dans la marge
\setlength{\textwidth}{481pt} % Largeur de la zone de texte (17cm)
\setlength{\voffset}{-18pt} % Bon pour DOS
\setlength{\marginparsep}{7pt} % Séparation de la marge
\setlength{\topmargin}{0pt} % Pas de marge en haut
\setlength{\headheight}{13pt} % Haut de page
\setlength{\headsep}{10pt} % Entre le haut de page et le texte
\setlength{\footskip}{27pt} % Bas de page + séparation
\setlength{\textheight}{708pt} % Hauteur de la zone de texte (25cm)

\begin{document}

% Page de couverture
\title{Mise en place et contournement d'un IDS}
\author{Louis BILLIET}
\date{17 f\'evrier 2014}
\maketitle

\section{Mise en place}
\subsection{Service faible}
Le service attaqu\'e est un service web volontairement trou\'e de partout heberg\'e sur un LAMP \`a jour (le 16 f\'evrier 2014).

\subsection{IDS}
L'IDS est install\'e sur le m\^eme serveur qui heberge le service.
C'est moins s\'ecuris\'e mais pour les besoins du TP, \c ca suffira
\begin{itemize}
\item OS : Ubuntu 13.10 32 bits
\item IDS : Snort version 2.9.2.2
\item R\`egles : https://rules.emergingthreats.net/open/snort-2.9.2/rules/.
Mises \`a jour des r\`egles automatiquement via oinkmaster.
\end{itemize}

\section{Attaque envisag\'ee}
La page d'inscription est faible face aux attaques XSS.
Ins\'erer un script qui redirige automatiquement vers une autre page peut rendre indisponibles certaines pages.

\section{Ce que j'ai modifi\'e dans l'espoir de me faire d\'etecter}
\subsection{V\'erification des r\`egles}
Apr\`es avoir mis en place les r\`egles d'emergingthreats, aucune attaque n'\'etait d\'etect\'ee.
J'ai donc \'ecrit une r\`egle en m'inspirant de ce qui est \'ecrit sur cette page : http://www.symantec.com/connect/articles/detection-sql-injection-and-cross-site-scripting-attacks (section 3 ``Regular Expressions for Cross Site Scripting (CSS)'').
Cette r\`egle ne levant toujours aucune alarme, j'ai donc \'ecrit une r\`egle qui l\`eve une alarme au moindre trafic sur le port 80 de mon serveur.
Vu que m\^eme dans cette situation, aucune alerte n'\'etait lev\'ee, j'ai remis en cause la configuration de snort.

\subsection{V\'erification de la configuration de snort}
J'ai v\'erifi\'e la plage d'adresse surveill\'ee, les ports surveill\'es, le profil du preprocesseur HTTP et la liste des r\`egles import\'ees.
Il n'y a rien, de mon point de vue, qui soit mal configur\'e.

\subsection{V\'erification de la d\'etection du trafic}
\'Etant donn\'e 

\section{Techniques d'\'evasion envisag\'ees}
\subsection{Modification de l'encodage}
\subsection{Fragmentation des paquets}
\subsection{Ajout d'espaces}

\section{Bibliographie}
\begin{itemize}
\item Regex pour d\'etecter les attaques XSS :\\
http://www.symantec.com/connect/articles/detection-sql-injection-and-cross-site-scripting-attacks
\item Documentation de snort \`a propos des r\`egles :\\
http://manual.snort.org/node27.html
\item Documentation de snort \`a propos des pr\'eprocesseurs :\\
http://manual.snort.org/node17.html
\end{itemize}

\end{document}
